"use strict";(self.webpackChunkcoerger_design=self.webpackChunkcoerger_design||[]).push([[671],{"./src/components/Upload/Upload.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultUpload:()=>DefaultUpload,DragUpload:()=>DragUpload,MultipleUpload:()=>MultipleUpload,__namedExportsOrder:()=>__namedExportsOrder,default:()=>Upload_stories});__webpack_require__("./src/styles/index.scss");var fontawesome_svg_core=__webpack_require__("./node_modules/@fortawesome/fontawesome-svg-core/index.mjs"),free_solid_svg_icons=__webpack_require__("./node_modules/@fortawesome/free-solid-svg-icons/index.mjs"),react=__webpack_require__("./node_modules/react/index.js"),axios=__webpack_require__("./node_modules/axios/lib/axios.js"),Icon=__webpack_require__("./src/components/Icon/Icon.tsx"),progress=__webpack_require__("./src/components/Progress/progress.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const UploadList=props=>{const{fileList,onRemove}=props;return(0,jsx_runtime.jsx)("ul",{className:"coerger-upload-list",children:fileList.map((item=>(0,jsx_runtime.jsxs)("li",{className:"coerger-upload-list-item",children:[(0,jsx_runtime.jsxs)("span",{className:"file-name file-name-".concat(item.status),children:[(0,jsx_runtime.jsx)(Icon.A,{icon:"file-alt",theme:"secondary"}),item.name]}),(0,jsx_runtime.jsxs)("span",{className:"file-status",children:[("uploading"===item.status||"ready"===item.status)&&(0,jsx_runtime.jsx)(Icon.A,{icon:"spinner",spin:!0,theme:"primary"}),"success"===item.status&&(0,jsx_runtime.jsx)(Icon.A,{icon:"check-circle",theme:"success"}),"error"===item.status&&(0,jsx_runtime.jsx)(Icon.A,{icon:"times-circle",theme:"danger"})]}),(0,jsx_runtime.jsx)("span",{className:"file-actions",children:(0,jsx_runtime.jsx)(Icon.A,{icon:"times",onClick:()=>{onRemove(item)}})}),"uploading"===item.status&&(0,jsx_runtime.jsx)(progress.A,{percent:item.percent||0})]},item.uid)))})},uploadList=UploadList;UploadList.__docgenInfo={description:"",methods:[],displayName:"UploadList",props:{fileList:{required:!0,tsType:{name:"Array",elements:[{name:"UploadFile"}],raw:"UploadFile[]"},description:""},onRemove:{required:!0,tsType:{name:"signature",type:"function",raw:"(_file: UploadFile) => void",signature:{arguments:[{type:{name:"UploadFile"},name:"_file"}],return:{name:"void"}}},description:""}}};var classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames);const Dragger=props=>{const{onFile,children}=props,[dragOver,setDragOver]=(0,react.useState)(!1),klass=classnames_default()("coerger-uploader-dragger",{"is-dragover":dragOver}),handleDrag=(e,over)=>{e.preventDefault(),setDragOver(over)};return(0,jsx_runtime.jsx)("div",{className:klass,onDragOver:e=>{handleDrag(e,!0)},onDragLeave:e=>{handleDrag(e,!1)},onDrop:e=>{e.preventDefault(),setDragOver(!1),onFile(e.dataTransfer.files)},children})},dragger=Dragger;Dragger.__docgenInfo={description:"",methods:[],displayName:"Dragger",props:{onFile:{required:!0,tsType:{name:"signature",type:"function",raw:"(files: FileList) => void",signature:{arguments:[{type:{name:"FileList"},name:"files"}],return:{name:"void"}}},description:""},children:{required:!0,tsType:{name:"JSX.Element"},description:""}}};const Upload=props=>{const{action,defaultFileList,beforeUpload,onProgress,onSuccess,onError,onChange,onRemove,name,headers,data,withCredentials,accept,multiple,children,drag}=props,fileInput=(0,react.useRef)(null),[fileList,setFileList]=(0,react.useState)(defaultFileList||[]),updateFileList=(updateFile,updateObj)=>{setFileList((prevList=>prevList.map((file=>file.uid===updateFile.uid?{...file,...updateObj}:file))))},uploadFiles=files=>{Array.from(files).forEach((file=>{if(beforeUpload){const result=beforeUpload(file);result&&result instanceof Promise?result.then((processedFile=>{post(processedFile)})):!1!==result&&post(file)}else post(file)}))},post=file=>{let _file={uid:Date.now()+"upload-file",status:"ready",name:file.name,size:file.size,percent:0,raw:file};setFileList((prevList=>[_file,...prevList]));const formData=new FormData;formData.append(name||"file",file),data&&Object.keys(data).forEach((key=>{formData.append(key,data[key])})),axios.A.post(action,formData,{headers:{...headers,"Content-Type":"multipart/form-data"},withCredentials,onUploadProgress:e=>{let percentage=Math.round(100*e.loaded/(e.total||1))||0;percentage<100&&(updateFileList(_file,{percent:percentage,status:"uploading"}),onProgress&&onProgress(percentage,file))}}).then((resp=>{updateFileList(_file,{status:"success",response:resp.data}),onSuccess&&onSuccess(resp.data,file),onChange&&onChange(file)})).catch((err=>{updateFileList(_file,{status:"error",error:err}),onError&&onError(err,file),onChange&&onChange(file)}))};return(0,jsx_runtime.jsxs)("div",{className:"coerger-upload-component",children:[(0,jsx_runtime.jsxs)("div",{className:"coerger-upload-input",style:{display:"inline-block"},onClick:()=>{fileInput.current&&fileInput.current.click()},children:[drag?(0,jsx_runtime.jsx)(dragger,{onFile:files=>{uploadFiles(files)},children}):children,(0,jsx_runtime.jsx)("input",{className:"coerger-file-input",style:{display:"none"},ref:fileInput,onChange:e=>{const files=e.target.files;files&&(uploadFiles(files),fileInput.current&&(fileInput.current.value=""))},type:"file",accept,multiple})]}),(0,jsx_runtime.jsx)(uploadList,{fileList,onRemove:file=>{setFileList((prevList=>prevList.filter((item=>item.uid!==file.uid)))),onRemove&&onRemove(file)}})]})};Upload.defaultProps={name:"file"};const upload=Upload;Upload.__docgenInfo={description:"",methods:[],displayName:"Upload",props:{action:{required:!0,tsType:{name:"string"},description:""},defaultFileList:{required:!1,tsType:{name:"Array",elements:[{name:"UploadFile"}],raw:"UploadFile[]"},description:""},beforeUpload:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: File) => boolean | Promise<File>",signature:{arguments:[{type:{name:"File"},name:"file"}],return:{name:"union",raw:"boolean | Promise<File>",elements:[{name:"boolean"},{name:"Promise",elements:[{name:"File"}],raw:"Promise<File>"}]}}},description:""},onProgress:{required:!1,tsType:{name:"signature",type:"function",raw:"(percentage: number, file: File) => void",signature:{arguments:[{type:{name:"number"},name:"percentage"},{type:{name:"File"},name:"file"}],return:{name:"void"}}},description:""},onSuccess:{required:!1,tsType:{name:"signature",type:"function",raw:"(data: any, file: File) => void",signature:{arguments:[{type:{name:"any"},name:"data"},{type:{name:"File"},name:"file"}],return:{name:"void"}}},description:""},onError:{required:!1,tsType:{name:"signature",type:"function",raw:"(err: any, file: File) => void",signature:{arguments:[{type:{name:"any"},name:"err"},{type:{name:"File"},name:"file"}],return:{name:"void"}}},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: File) => void",signature:{arguments:[{type:{name:"File"},name:"file"}],return:{name:"void"}}},description:""},onRemove:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: UploadFile) => void",signature:{arguments:[{type:{name:"UploadFile"},name:"file"}],return:{name:"void"}}},description:""},headers:{required:!1,tsType:{name:"signature",type:"object",raw:"{ [key: string]: any }",signature:{properties:[{key:{name:"string"},value:{name:"any",required:!0}}]}},description:""},name:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:'"file"',computed:!1}},data:{required:!1,tsType:{name:"signature",type:"object",raw:"{ [key: string]: any }",signature:{properties:[{key:{name:"string"},value:{name:"any",required:!0}}]}},description:""},withCredentials:{required:!1,tsType:{name:"boolean"},description:""},accept:{required:!1,tsType:{name:"string"},description:""},multiple:{required:!1,tsType:{name:"boolean"},description:""},drag:{required:!1,tsType:{name:"boolean"},description:""},children:{required:!0,tsType:{name:"JSX.Element"},description:""}}};var Button=__webpack_require__("./src/components/Button/Button.tsx");fontawesome_svg_core.Yv.add(free_solid_svg_icons.X7I);const Upload_stories={title:"components/Upload",component:upload,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{},args:{}},DefaultUpload={args:{action:"https://jsonplaceholder.typicode.com/posts",children:(0,jsx_runtime.jsx)(Button.Ay,{children:"upload"})},render:args=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(upload,{action:args.action,children:args.children})})},DragUpload={args:{action:"https://jsonplaceholder.typicode.com/posts",children:(0,jsx_runtime.jsx)(Button.Ay,{children:"upload"})},render:args=>(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(0,jsx_runtime.jsx)(upload,{action:args.action,children:args.children,drag:!0})})},MultipleUpload={args:{action:"https://jsonplaceholder.typicode.com/posts",children:(0,jsx_runtime.jsx)(Button.Ay,{children:"upload"})},render:args=>(0,jsx_runtime.jsx)("div",{children:(0,jsx_runtime.jsx)(upload,{action:args.action,children:args.children,multiple:!0})})};DefaultUpload.parameters={...DefaultUpload.parameters,docs:{...DefaultUpload.parameters?.docs,source:{originalSource:'{\n  args: {\n    action: "https://jsonplaceholder.typicode.com/posts",\n    children: <Button>upload</Button>\n  },\n  render: args => <>\r\n      <Upload action={args.action} children={args.children}></Upload>\r\n    </>\n}',...DefaultUpload.parameters?.docs?.source}}},DragUpload.parameters={...DragUpload.parameters,docs:{...DragUpload.parameters?.docs,source:{originalSource:'{\n  args: {\n    action: "https://jsonplaceholder.typicode.com/posts",\n    children: <Button>upload</Button>\n  },\n  render: args => <>\r\n      <Upload action={args.action} children={args.children} drag></Upload>\r\n    </>\n}',...DragUpload.parameters?.docs?.source}}},MultipleUpload.parameters={...MultipleUpload.parameters,docs:{...MultipleUpload.parameters?.docs,source:{originalSource:'{\n  args: {\n    action: "https://jsonplaceholder.typicode.com/posts",\n    children: <Button>upload</Button>\n  },\n  render: args => <div>\r\n      <Upload action={args.action} children={args.children} multiple></Upload>\r\n    </div>\n}',...MultipleUpload.parameters?.docs?.source}}};const __namedExportsOrder=["DefaultUpload","DragUpload","MultipleUpload"]},"./src/components/Button/Button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,Mp:()=>ButtonSize,VQ:()=>ButtonType,yp:()=>Shape});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/jsx-runtime.js");let ButtonSize=function(ButtonSize){return ButtonSize.Small="sm",ButtonSize.Large="lg",ButtonSize}({}),Shape=function(Shape){return Shape.Circle="circle",Shape.Round="round",Shape.Default="",Shape}({}),ButtonType=function(ButtonType){return ButtonType.Primary="primary",ButtonType.Danger="danger",ButtonType.Default="default",ButtonType.Link="link",ButtonType.Dashed="dashed",ButtonType.Text="text",ButtonType}({});const Button=props=>{const{btnType,disabled,size,shape,children,className,href,block,ghost,...restProps}=props,classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("btn",className,{["btn-".concat(btnType)]:btnType,["btn-".concat(size)]:size,["btn-".concat(shape)]:shape,"btn-block":block?"btn-block":"","btn-ghost":ghost?"btn-ghost":"",disabled:btnType===ButtonType.Link&&disabled});return btnType===ButtonType.Link&&href?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("a",{className:classes,href,...restProps,children}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_2__.jsx)("button",{className:classes,disabled,...restProps,children})};Button.defaultProps={disabled:!1,btnType:ButtonType.Default};const __WEBPACK_DEFAULT_EXPORT__=Button;Button.__docgenInfo={description:"",methods:[],displayName:"Button",props:{disabled:{defaultValue:{value:"false",computed:!1},required:!1},btnType:{defaultValue:{value:"ButtonType.Default",computed:!0},required:!1}}}},"./src/components/Icon/Icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__,I:()=>Icon});__webpack_require__("./node_modules/react/index.js");var classnames__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_1__),_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Icon=props=>{const{className,theme,...restProps}=props,classes=classnames__WEBPACK_IMPORTED_MODULE_1___default()("coerger-icon",className,{["icon-".concat(theme)]:theme});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_2__.g,{className:classes,...restProps})},__WEBPACK_DEFAULT_EXPORT__=Icon;Icon.__docgenInfo={description:"",methods:[],displayName:"Icon",props:{theme:{required:!1,tsType:{name:"union",raw:'| "primary"\r\n| "secondary"\r\n| "success"\r\n| "info"\r\n| "warning"\r\n| "light"\r\n| "danger"',elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"secondary"'},{name:"literal",value:'"success"'},{name:"literal",value:'"info"'},{name:"literal",value:'"warning"'},{name:"literal",value:'"light"'},{name:"literal",value:'"danger"'}]},description:""}},composes:["FontAwesomeIconProps"]}},"./src/components/Progress/progress.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Progress=props=>{const{percent,strokeHeight,showText,styles,theme}=props;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"coerger-progress-bar",style:styles,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"coerger-progress-bar-outer",style:{height:"".concat(strokeHeight,"px")},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{className:"coerger-progress-bar-inner color-".concat(theme),style:{width:"".concat(percent,"%")},children:showText&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("span",{className:"inner-text",children:"".concat(percent,"%")})})})})};Progress.defaultProps={strokeHeight:15,showText:!0,theme:"primary"};const __WEBPACK_DEFAULT_EXPORT__=Progress;Progress.__docgenInfo={description:"",methods:[],displayName:"Progress",props:{percent:{required:!0,tsType:{name:"number"},description:""},strokeHeight:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"15",computed:!1}},showText:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},styles:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:""},theme:{required:!1,tsType:{name:"union",raw:'| "primary"\r\n| "secondary"\r\n| "success"\r\n| "info"\r\n| "warning"\r\n| "light"\r\n| "danger"',elements:[{name:"literal",value:'"primary"'},{name:"literal",value:'"secondary"'},{name:"literal",value:'"success"'},{name:"literal",value:'"info"'},{name:"literal",value:'"warning"'},{name:"literal",value:'"light"'},{name:"literal",value:'"danger"'}]},description:"",defaultValue:{value:'"primary"',computed:!1}}}}},"./src/styles/index.scss":()=>{}}]);